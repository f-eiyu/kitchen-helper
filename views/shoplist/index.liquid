{% layout "layout.liquid" %}

{% block title %}Shopping List{% endblock %}

{% block stylesheets %}
<link rel="stylesheet" href="/css/shoplist/index.css">
<link rel="stylesheet" href="/css/shoplist/shoplist_nav.css">
{% endblock %}

{% block header %}Shopping List{% endblock %}

{% block content %}
  <div class="card">
    {% if shoplist.size < 1 %}
      <p>There is nothing in your shopping list :(</p>
    {% else %}
      {% for item in shoplist %}
        <label class="checkbox-label" id="label-{{forloop.index0}}">
          <input
            type="checkbox"
            id="item-{{forloop.index0}}"
          /><span>{{item.name}}</span>
          {% if item.amount != 0 %}
            <span>({{item.amount}})</span>
          {% endif %}
          <form action="/shoplist/{{item._id}}/edit" method="GET">
            <input type="submit" value="Edit" />
          </form>
          <form action="/shoplist/{{item._id}}?_method=DELETE" method="POST">
            <input type="submit" value="Delete" />
          </form>
        </label>
        
      {% endfor %}
    {% endif %}
  </div>

  <form action="/shoplist/new" class="new-item-button">
    <input
      type="submit"
      value="+"
    />
  </form>
{% endblock %}

{% block scripts %}
<script src="/scripts/shoplist/checkitem.js" async defer></script>
{% endblock %}